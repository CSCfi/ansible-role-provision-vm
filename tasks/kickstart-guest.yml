---
# Create a new guest using Kickstart

- name: copy over kickstart file
  template: 
    src: "kickstart.cfg"
    dest: "{{ runtime_tempdir }}/{{ inventory_hostname }}.ks"
  become: true
  delegate_to: "{{ hyper }}"

- name: Show .ks file contents for debugging
  command: cat "{{ runtime_tempdir }}/{{ inventory_hostname }}.ks"
  register: ks_file
  become: true
  delegate_to: "{{ hyper }}"
  when: debug|bool

- name: Show .ks file contents for debugging
  debug:
    var: ks_file.stdout_lines
  when: debug|bool

...